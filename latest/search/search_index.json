{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"\ud83e\uddfc hdsemg-select \ud83e\uddfc HDsEMG data cleaning tool <p>Welcome to the documentation for hdsemg-select, a sophisticated graphical user interface (GUI) application designed for selecting and analyzing HDsEMG channels from <code>.mat</code> files. This tool helps identify and exclude faulty channels (e.g., due to electrode misplacement or corrosion) and automatically flag potential artifacts like ECG contamination, power line noise (50/60Hz), or general signal anomalies.</p> <p></p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>\u2705 Support for multiple file formats (<code>.mat</code>, <code>.otb+</code>, <code>.otb4</code>)</li> <li>\ud83e\udde0 Intelligent grid detection and configuration</li> <li>\ud83d\uddbc Comprehensive visualization tools</li> <li>\u26a1\ufe0f Advanced artifact detection</li> <li>\ud83d\udcbe Structured data export</li> <li>\ud83d\udd0d Detailed signal analysis capabilities</li> </ul>"},{"location":"#quick-navigation","title":"Quick Navigation","text":"<ul> <li>Installation Guide: Step-by-step instructions for setting up hdsemg-select</li> <li>Getting Started: Learn how to get started with the application. The documentation will guide you through the first steps of using the hdsemg-select application to inspect and clean your high-density surface EMG (HD-sEMG) data.</li> <li>Developer Guide: Information for contributors and developers</li> </ul>"},{"location":"#core-functionality","title":"Core Functionality","text":""},{"location":"#signal-visualization","title":"Signal Visualization","text":"<ul> <li>Grid-based electrode visualization</li> <li>Time-domain and frequency spectrum analysis</li> <li>Multi-channel overview with pagination</li> <li>Reference signal overlay capabilities</li> </ul>"},{"location":"#channel-management","title":"Channel Management","text":"<ul> <li>Manual and automatic channel selection</li> <li>Amplitude-based selection with configurable thresholds</li> <li>Custom label management</li> <li>Comprehensive artifact flagging system</li> </ul>"},{"location":"#data-processing","title":"Data Processing","text":"<ul> <li>Automatic artifact detection<ul> <li>ECG contamination identification</li> <li>Power line noise detection (50/60Hz)</li> <li>General signal anomaly detection</li> </ul> </li> <li>Signal view options (MP, SD, DD)</li> <li>Action potential propagation analysis</li> </ul>"},{"location":"#data-export","title":"Data Export","text":"<ul> <li>Structured JSON export with channel metadata</li> <li>Automated cleaned <code>.mat</code> file generation</li> <li>Comprehensive channel labeling system</li> </ul>"},{"location":"#requirements","title":"Requirements","text":"<ul> <li>Python 3.8+</li> <li>See <code>requirements.txt</code> for detailed dependencies</li> <li>Compatible with Linux and Windows 11</li> </ul>"},{"location":"#related-tools","title":"Related Tools","text":"<ul> <li>hdsemg-pipe App \ud83e\uddfc</li> <li>hdsemg-shared \ud83d\udce6</li> <li>openhdemg \ud83e\uddec</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are welcome! If you'd like to improve hdsemg-select, please take a look at our Contributing Guide for details on how to get started.</p> <p>Visit our GitHub repository to get started.</p>"},{"location":"contributing/","title":"Contributing to hdsemg-select","text":"<p>First off, thank you for considering contributing to hdsemg-select! It's people like you that make hdsemg-select such a great tool.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":""},{"location":"contributing/#reporting-issues","title":"Reporting Issues","text":"<p>If you find a bug or have a suggestion for improving hdsemg-select, please first check if a similar issue already exists in our issue tracker. If not, feel free to create a new one.</p> <p>When filing an issue, please include:</p> <ul> <li>A clear description of the problem</li> <li>Steps to reproduce the issue</li> <li>Expected vs actual behavior</li> <li>Your Python version and operating system</li> <li>Any relevant code samples or error messages</li> </ul>"},{"location":"contributing/#contributing-code","title":"Contributing Code","text":"<ol> <li>Fork the repository on GitHub</li> <li>Create a new branch for your feature:    <code>bash    git checkout -b feature-name</code></li> <li>Make your changes and commit them with clear commit messages</li> <li>Push to your fork:    <code>bash    git push origin feature-name</code></li> <li>Open a Pull Request against our main branch</li> </ol>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<ol> <li> <p>Clone your fork:    <code>bash    git clone https://github.com/johanneskasser/hdsemg-select.git    cd hdsemg_select</code></p> </li> <li> <p>Create a virtual environment:    <code>bash    python -m venv venv    source venv/bin/activate  # On Windows: venv\\Scripts\\activate</code></p> </li> </ol>"},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Follow PEP 8 guidelines</li> <li>Include docstrings for new functions/classes</li> <li>Add type hints where possible</li> <li>Write tests for new functionality</li> </ul>"},{"location":"contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Update the documentation if needed</li> <li>Add or update tests as needed</li> <li>Ensure all tests pass</li> <li>Update the changelog if applicable</li> <li>Be ready to address review comments</li> </ol>"},{"location":"contributing/#questions","title":"Questions?","text":"<p>If you have questions about the development process or need help with your contribution, feel free to:</p> <ul> <li>Open an issue with your question</li> <li>Reach out to the maintainers</li> </ul>"},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>By participating in this project, you agree to abide by its terms and maintain a respectful and inclusive environment for everyone.</p> <p>Thank you for your contribution!</p>"},{"location":"developer/","title":"Developer Guide","text":"<p>This guide provides information for developers who want to contribute to or modify the hdsemg-select application.</p>"},{"location":"developer/#project-structure","title":"Project Structure","text":"<pre><code>src/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 main.py                 # Application entry point\n\u251c\u2500\u2500 version.py             # Version information\n\u251c\u2500\u2500 _log/                  # Logging configuration\n\u251c\u2500\u2500 config/               # Application configuration\n\u251c\u2500\u2500 controller/           # Application controllers\n\u251c\u2500\u2500 helper/              # Utility functions\n\u251c\u2500\u2500 select_logic/        # Core selection algorithms\n\u251c\u2500\u2500 settings/           # Settings management\n\u251c\u2500\u2500 state/              # Application state management\n\u2514\u2500\u2500 ui/                 # User interface components\n</code></pre>"},{"location":"developer/#development-setup","title":"Development Setup","text":"<ol> <li>Fork the repository</li> <li>Set up your development environment following the Installation Guide</li> <li>Install additional development dependencies:    <code>bash    pip install pytest pytest-cov pylint</code></li> </ol>"},{"location":"developer/#coding-standards","title":"Coding Standards","text":"<ul> <li>Follow PEP 8 style guide</li> <li>Write docstrings for all public methods</li> <li>Maintain type hints</li> <li>Keep methods focused and single-responsibility</li> <li>Write unit tests for new features</li> </ul>"},{"location":"developer/#testing","title":"Testing","text":""},{"location":"developer/#running-tests","title":"Running Tests","text":"<pre><code>python -m pytest\n</code></pre>"},{"location":"developer/#test-coverage","title":"Test Coverage","text":"<pre><code>python -m pytest --cov=src\n</code></pre>"},{"location":"developer/#building","title":"Building","text":""},{"location":"developer/#resource-compilation","title":"Resource Compilation","text":"<pre><code>cd src\npyrcc5 resources.qrc -o resources_rc.py\n</code></pre>"},{"location":"developer/#creating-executables","title":"Creating Executables","text":"<ul> <li>Windows:   <code>bash   pyinstaller src/hdsemg_select-win.spec</code></li> <li>macOS:   <code>bash   pyinstaller src/hdsemg_select-macos.spec</code></li> </ul>"},{"location":"developer/#core-components","title":"Core Components","text":""},{"location":"developer/#signal-processing","title":"Signal Processing","text":"<ul> <li>Located in <code>select_logic/data_processing.py</code></li> <li>Handles raw signal manipulation</li> <li>Implements filtering algorithms</li> </ul>"},{"location":"developer/#artifact-detection","title":"Artifact Detection","text":"<ul> <li>Located in <code>select_logic/auto_flagger.py</code></li> <li>ECG contamination detection</li> <li>Power line noise identification</li> <li>Custom artifact detection algorithms</li> </ul>"},{"location":"developer/#ui-components","title":"UI Components","text":"<ul> <li>Based on PyQt5</li> <li>Custom widgets in <code>ui/widgets/</code></li> <li>Plot components using pyqtgraph</li> </ul>"},{"location":"developer/#contributing","title":"Contributing","text":""},{"location":"developer/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Create a feature branch</li> <li>Implement changes</li> <li>Add/update tests</li> <li>Update documentation</li> <li>Submit PR with description</li> </ol>"},{"location":"developer/#version-control","title":"Version Control","text":"<ul> <li>Use semantic versioning</li> <li>Update version.py</li> <li>Document changes in CHANGELOG.md</li> </ul>"},{"location":"developer/#architecture","title":"Architecture","text":""},{"location":"developer/#data-flow","title":"Data Flow","text":"<ol> <li>File Loading \u2192 Grid Detection \u2192 Signal Processing</li> <li>User Interface \u2190\u2192 State Management</li> <li>Selection Logic \u2192 Data Export</li> </ol>"},{"location":"developer/#state-management","title":"State Management","text":"<ul> <li>Centralized state in <code>state/state.py</code></li> <li>Event-driven updates</li> <li>PyQt signals and slots</li> </ul>"},{"location":"developer/#performance-considerations","title":"Performance Considerations","text":""},{"location":"developer/#large-dataset-handling","title":"Large Dataset Handling","text":"<ul> <li>Implement pagination</li> <li>Use memory-efficient data structures</li> <li>Consider chunked processing</li> </ul>"},{"location":"developer/#optimization-tips","title":"Optimization Tips","text":"<ul> <li>Profile code using cProfile</li> <li>Optimize heavy computations</li> <li>Use NumPy for array operations</li> </ul>"},{"location":"developer/#debugging","title":"Debugging","text":""},{"location":"developer/#logging","title":"Logging","text":"<ul> <li>Configure in <code>_log/log_config.py</code></li> <li>Use appropriate log levels</li> <li>Include context in log messages</li> </ul>"},{"location":"developer/#common-issues","title":"Common Issues","text":"<ul> <li>Resource compilation errors</li> <li>Memory management</li> <li>Qt event loop issues</li> </ul>"},{"location":"developer/#future-development","title":"Future Development","text":""},{"location":"developer/#planned-features","title":"Planned Features","text":"<ul> <li>Additional file format support</li> <li>Enhanced artifact detection</li> <li>Performance optimizations</li> <li>Extended analysis tools</li> </ul>"},{"location":"developer/#roadmap","title":"Roadmap","text":"<ol> <li>Improve automatic detection</li> <li>Add batch processing</li> <li>Implement additional exports</li> <li>Enhance visualization options</li> </ol>"},{"location":"installation/","title":"Installation Guide","text":"<p>This guide will walk you through the process of installing and setting up hdsemg-select on your system.</p>"},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<p>Before installing hdsemg-select, ensure you have: - Python 3.8 or higher installed - Git installed on your system - Administrator access (for virtual environment creation)</p>"},{"location":"installation/#installation","title":"Installation","text":"<p>There are several ways to install hdsemg-select:</p>"},{"location":"installation/#1-installation-via-pypi","title":"1. Installation via PyPI","text":"<p>The package can be installed directly from PyPI:</p> <pre><code>pip install hdsemg-shared\n</code></pre>"},{"location":"installation/#2-installation-from-source","title":"2. Installation from Source","text":"<p>Follow these steps to install the project from source:</p> <ol> <li>Clone the repository:    <code>bash    git clone https://github.com/johanneskasser/hdsemg-select.git    cd hdsemg-select</code></li> <li> <p>Install dependencies:    <code>bash    pip install -r requirements.txt</code></p> </li> <li> <p>Compile the Resource File</p> </li> </ol> <p>Navigate to the source directory and compile the resource file:</p> <pre><code>cd ./src/hdsemg_select\npyrcc5 resources.qrc -o resources_rc.py\n</code></pre> <ol> <li>Start the Application</li> </ol> <p>Run the main Python script to start the application:</p> <pre><code>python main.py\n</code></pre>"},{"location":"installation/#3-precompiled-versions-windows-macos","title":"3. Precompiled Versions (Windows &amp; macOS)","text":"<p>Precompiled .exe and macOS programs are available for download under the Releases. Download the appropriate file and follow the instructions to run it.</p>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#common-issues","title":"Common Issues","text":"<ol> <li>Virtual Environment Creation Fails</li> <li>Ensure you're running the command prompt as administrator</li> <li> <p>Verify Python is correctly installed and in your system PATH</p> </li> <li> <p>Missing Dependencies</p> </li> <li>Try reinstalling requirements: <code>pip install -r requirements.txt</code></li> <li> <p>Check for any error messages during installation</p> </li> <li> <p>Resource Compilation Error</p> </li> <li>Ensure PyQt5 is properly installed</li> <li>Verify the <code>resources.qrc</code> file exists in the src directory</li> </ol>"},{"location":"installation/#system-compatibility","title":"System Compatibility","text":"<p>The application has been tested on: - Windows 11 - Linux distributions</p> <p>For platform-specific issues, please check our GitHub issues page.</p>"},{"location":"usage/application_output/","title":"Application Output","text":""},{"location":"usage/application_output/#application-output","title":"Application Output","text":"<p>The Application Output section provides an overview of how the hdsemg-select application handles data export and what information is included in the output files.</p>"},{"location":"usage/application_output/#export-data","title":"Export Data","text":"<p>Once you are finished reviewing and cleaning your HD-sEMG data, you can export the processed data for further analysis via the Menu \"File\" -&gt; \"Save Selection\".  This will open a file dialog where you can choose the export location. Once you select the location, the application will create two files:</p> <ul> <li>A JSON file containing metadata and channel flags.</li> <li>A MAT file that contains a cleaned version of the original data file.</li> </ul>"},{"location":"usage/application_output/#export-formats","title":"Export Formats","text":"<p>The application supports exporting data in the following formats: - JSON: A structured format that includes metadata and channel flags. - MAT: A cleaned version of the original data file, which can be used for further analysis in MATLAB or similar environments.</p>"},{"location":"usage/application_output/#json-export","title":"JSON Export","text":"<p>When you export data to JSON, the following information is included: - File Metadata: Information about the original file, such as filename, sampling rate, and grid configuration. - Channel Metadata: Details about each channel, including:   - Channel number   - Selection status (selected or not)   - Flags (e.g., artifact, bad channel, ECG contamination)   - Custom labels - Grid Configuration: Information about the electrode grid, including orientation (rows or columns) and reference channels.</p> <pre><code>{\n  \"filename\": \"example.mat\",\n  \"layout\": {\n        \"layout_mapping\": {\n            \"parallel\": \"cols\",\n            \"perpendicular\": \"rows\"\n        },\n        \"set_by_user\": \"False\" // indicates if the grid was set by the user or auto-detected\n    },\n  \"total_channels_summary\": [\n    {\n      \"channel_index\": 0,\n      \"channel_number\": 1,\n      \"selected\": true,\n      \"description\": \"Grid1_1x1\",\n      \"labels\": []\n    },\n     {\n      \"channel_index\": 1,\n      \"channel_number\": 2,\n      \"selected\": false,\n      \"description\": \"Grid1_1x2\",\n      \"labels\": [\"ECG\", \"Artifact\"]\n    },\n    {\n      \"channel_index\": 15,\n      \"channel_number\": 16,\n      \"selected\": true,\n      \"description\": \"Grid1_4x4\",\n      \"labels\": [\"Noise_60Hz\"]\n    }\n    ...\n  ],\n  \"grids\": [\n    {\n      \"grid_key\": \"Grid1\",\n      \"rows\": 4,\n      \"columns\": 4,\n      \"inter_electrode_distance_mm\": 10,\n      \"channels\": [\n        {\n          \"channel_index\": 0,\n          \"channel_number\": 1,\n          \"selected\": true,\n          \"description\": \"Grid1_1x1\",\n          \"labels\": []\n        },\n        {\n          \"channel_index\": 1,\n          \"channel_number\": 2,\n          \"selected\": false,\n          \"description\": \"Grid1_1x2\",\n          \"labels\": [\"ECG\", \"Artifact\"]\n        },\n        ...\n      ]\n    }\n    ...\n  ]\n}\n</code></pre>"},{"location":"usage/application_output/#mat-export","title":"MAT Export","text":"<p>When exporting to MAT format, the application creates a cleaned version of the original data file. This file includes everything the original file had, but removes the deselected channels from the data and the descriptions array. Therefore, the size of the length of the data and descriptions array will be equal to the number of selected channels. The MAT file can be used for further analysis in MATLAB or similar environments.</p>"},{"location":"usage/application_settings/","title":"Application Settings","text":""},{"location":"usage/application_settings/#application-settings","title":"Application Settings","text":"<p>This section describes how to configure application settings in the hdsemg-select application, including automatic channel flagging settings and custom flags.</p>"},{"location":"usage/application_settings/#accessing-application-settings","title":"Accessing Application Settings","text":"<ol> <li>Open the \"File\" menu in the top navigation bar.</li> <li>Select \"Settings...\" to open the settings dialog.</li> <li>The settings dialog opens</li> </ol>"},{"location":"usage/application_settings/#logging-settings","title":"Logging Settings","text":"<p>The first tab allows you to configure the logging settings for the application and shows the current log level: - Log Level: Choose the level of detail for logging messages. Options include:   - <code>DEBUG</code>: Detailed information, useful for debugging.   - <code>INFO</code>: General information about application operations.   - <code>WARNING</code>: Indications of potential issues.   - <code>ERROR</code>: Error messages indicating problems that need attention.   - <code>CRITICAL</code>: Severe errors that may prevent the application from functioning.</p>"},{"location":"usage/application_settings/#automatic-channel-flagging-settings","title":"Automatic Channel Flagging Settings","text":"<p>The second tab allows you to configure the automatic channel flagging behavior, which helps detect and label noisy or artifact-prone channels.</p> <ul> <li>Noise Frequency Threshold: Defines how strong a frequency peak (e.g. at 50/60 Hz) must be relative to the background to trigger a noise flag.</li> <li>Artifact Variance Threshold: Channels with a variance above this threshold are flagged as containing artifacts.</li> <li>Noise Frequency Band (Hz): Sets the width of the frequency band around each target (e.g. \u00b11.2 Hz around 50 Hz) to search for noise peaks.</li> </ul> <p>You can also enable or disable checks for: - 50 Hz Noise - 60 Hz Noise</p> <p>These settings directly control how the automatic flagging algorithm evaluates each channel.</p> <p></p>"},{"location":"usage/application_settings/#custom-flags","title":"Custom Flags","text":"<p>The third tab allows you to manage custom flags that can be applied to channels. Custom flags are useful for specific use cases or personal preferences.</p> <p>If you want to add a custom flag, follow these steps:</p> <ol> <li>Navigate to the \"Custom Flags\" tab in the settings dialog.</li> <li>Click the \"Add\" button to add a new custom flag.</li> <li>Enter a name and a color for the custom flag in the input field.</li> <li>Click \"Create\" to apply the changes.</li> <li>The new custom flag will now appear in the dropdown menu when labeling channels.   Note: You can also delete custom flags by selecting them and clicking the \"Delete\" button.</li> <li>Press OK to save your changes and close the settings dialog.</li> </ol> <p>Now you can use the custom flag in the channel labeling dialog to mark channels with specific characteristics or issues.</p>"},{"location":"usage/application_settings/#settings-under-the-hood","title":"Settings: Under the Hood","text":"<p>The settings are stored in a JSON file located in the application data directory. The file is named <code>settings.json</code> and contains all the configuration options, including logging level, automatic channel flagging settings, and custom flags. So, if you want to use your own settings across multiple installations, you can copy the settings file to the same location on the other machine. The application will automatically load the settings from this file when it starts. This also allows you to reset your application to the default settings by deleting or renaming the <code>config.json</code> file, which will cause the application to create a new one with default values. The Settings File is located in the following directory: - <code>&lt;PATH_TO_YOUR_HDSEMG_SHARED_INSTALLATION&gt;/config/config.json</code></p>"},{"location":"usage/application_settings/#settings-file-structure","title":"Settings File Structure","text":"<p>The File is very basic and structured as follows:</p> <pre><code>{\n    \"LOG_LEVEL\": \"DEBUG\",\n    \"AUTO_FLAGGER_NOISE_FREQ_THRESHOLD\": 2.4,\n    \"AUTO_FLAGGER_ARTIFACT_VARIANCE_THRESHOLD\": 5e-09,\n    \"AUTO_FLAGGER_NOISE_FREQ_BAND_HZ\": 1.2,\n    \"AUTO_FLAGGER_CHECK_50HZ\": true,\n    \"AUTO_FLAGGER_CHECK_60HZ\": true,\n    \"CUSTOM_FLAG_LAST_ID\": 2,\n    \"CUSTOM_FLAGS\": [\n        {\n            \"id\": \"0b8a7003-e911-4163-9305-efb00593557e\",\n            \"name\": \"test\",\n            \"color\": \"#55aa00\"\n        }\n    ]\n}\n</code></pre>"},{"location":"usage/automatic_selection/","title":"Automatic Selection","text":""},{"location":"usage/automatic_selection/#automatic-selection","title":"Automatic Selection","text":"<p>This section describes how to use the automatic selection feature in the hdsemg-select application to quickly identify and identify bad channels based on their signal characteristics.</p>"},{"location":"usage/automatic_selection/#purpose-of-automatic-selection","title":"Purpose of Automatic Selection","text":"<p>The automatic selection feature is designed to help users quickly identify channels that may be faulty and might disort further Analysis Steps. This is particularly useful in HDsEMG data, where manual inspection of each channel can be time-consuming and impractical.#</p>"},{"location":"usage/automatic_selection/#how-to-use-automatic-selection","title":"How to Use Automatic Selection","text":"<p>Right now, there is only one automatic selection method available, which is based on the amplitude of the signal. This method allows you to select channels that exceed a certain amplitude threshold, indicating potential issues with the signal quality.</p>"},{"location":"usage/automatic_selection/#frequency-based-selection","title":"Frequency-Based Selection","text":"Step Description Image 1 Open the \"Automatic Selection\" menu from the top navigation bar. 2 Choose \"Amplitude Based Selection\" from the dropdown menu. 3 In the submenu, you\u2019ll find two options:  - Start: Begins the selection process (only enabled if thresholds are set).  - Settings: Opens the configuration dialog for amplitude thresholds. 4 In the settings dialog, configure:  - Low Threshold: Minimum amplitude a channel must exceed.  - High Threshold: Maximum allowed amplitude.  Note: Enable the \"Automatically compute thresholds\" checkbox to auto-set thresholds at 75% of the mean minimum/maximum amplitudes across all channels in the grid. 5 Click \"Start\" to begin analyzing channels based on your thresholds. 6 The application will scan all channels and automatically select those that meet the defined amplitude range. 7 Once completed, a dialog will summarize the results, showing how many channels were selected."},{"location":"usage/channel_flagging/","title":"Channel Flagging","text":""},{"location":"usage/channel_flagging/#channel-flagging","title":"Channel Flagging","text":"<p>This section describes how to manage channel flags in the hdsemg-select application, including manual and automatic flagging methods.</p>"},{"location":"usage/channel_flagging/#purpose-of-channel-flags","title":"Purpose of Channel Flags","text":"<p>Channel flags are used to indicate different properties of a specific channel, such as: - Artifact: The channel contains artifacts that may affect the data quality. - Bad Channel: The channel is considered faulty and should not be used for analysis. - ECG: The channel is contaminated by ECG signals. - Noise 50Hz: The channel is affected by 50Hz power line noise. - Noise 60Hz: The channel is affected by 60Hz power line noise. - Reference Signal: The channel is a reference signal. This flag will be set automatically for all reference channels.</p> <p>These Flags are standard flags used in the hdsemg-select application to help users quickly identify and manage channels based on their quality and characteristics. They can be set manually or automatically based on the detected artifacts in the signal. If you want to set the flags automatically, please refer to the section Automatic Channel Flagging There is also a possibility to set custom flags, which can be used for specific purposes or personal preferences. They can only be set manually and can be configured in the Settings dialog (see Application Settings).</p>"},{"location":"usage/channel_flagging/#manual-channel-flagging","title":"Manual Channel Flagging","text":"<p>If you want to manually set flags for a channel, follow these steps:</p> Step Description Image 1 Locate the channel you want to flag. Use the grid navigation buttons or arrow keys to select the desired channel. 2 Click the \"+\" button below the figure to open the label dialog. 3 In the dialog, select a label from the dropdown and click \"Apply\". 4 After applying the label, it will appear below the figure in the channel widget. <p>To get a custom flag into the dropdown, you need to add it in the settings dialog. For more information, see Application Settings. Afterwards, you can select it in the label dialog as shown above.</p>"},{"location":"usage/channel_flagging/#automatic-channel-flagging","title":"Automatic Channel Flagging","text":"<p>To run the automatic channel flag algorithm, please make sure that you have set the Automatic Channel Falgging Settings in the  Application Settings. Otherwise, the application will remind you.</p> <p>After you have set the settings, you can run the automatic channel flagging algorithm by starting it from the menu \"Automatic Selection\" -&gt; \"Suggest Artifact Flags...\". The application will then analyze the signal and suggest flags for the channels based on the configured settings (for all interested in how we are suggesting the flags please take a look at the algorithmn description). Once the algorithm has finished, the application will indicate success by showing the following dialog and the flags will be displayed in each channel widget and the detail view. You can then review the suggested flags and adjust them manually if necessary.</p> <p></p>"},{"location":"usage/channel_flagging/#what-happens-with-the-flags-after-you-have-set-them-and-export-your-data","title":"What happens with the flags after you have set them and export your data?","text":"<p>The flags you set manually or automatically will be stored in the metadata of the channel and will be included in the exported data. This allows you to keep track of the quality of each channel and to filter out channels that are not suitable for analysis.</p> <p>When you export the data, the flags will be included in the JSON file, allowing you to easily identify which channels are flagged as artifacts, bad channels, or reference signals. This is particularly useful for further analysis or when sharing the data with others. For more information about the JSON file export, see Application Output.</p>"},{"location":"usage/channel_flagging/#automatic-channel-flagging-under-the-hood","title":"Automatic Channel Flagging: under the hood","text":"<p>The automatic channel flagging algorithm uses a combination of frequency and variance thresholds to identify channels that may contain artifacts or noise. The algorithm works as follows:</p>"},{"location":"usage/channel_flagging/#1-frequency-based-noise-detection","title":"1. Frequency-Based Noise Detection","text":"<p>The algorithm checks for common noise sources in the frequency domain, such as:</p> <ul> <li>50 Hz interference (e.g. powerline noise in Europe)</li> <li>60 Hz interference (e.g. powerline noise in North America)</li> </ul> <p>It performs a spectral analysis of each channel and looks for sharp peaks at or near these frequencies. If the energy around a target frequency is significantly higher than the surrounding background spectrum, the channel is flagged (e.g. <code>NOISE_50</code>, <code>NOISE_60</code>).</p>"},{"location":"usage/channel_flagging/#2-variance-based-artifact-detection","title":"2. Variance-Based Artifact Detection","text":"<p>In addition to frequency checks, the algorithm inspects each channel\u2019s signal variance. A channel is flagged as an <code>ARTIFACT</code> if its variance exceeds a configurable threshold, which may indicate instability such as:</p> <ul> <li>Sudden signal jumps</li> <li>Excessive baseline drift</li> <li>Electrode movement or loose contact</li> </ul>"},{"location":"usage/channel_flagging/#3-reference-signal-identification","title":"3. Reference Signal Identification","text":"<p>Channels that are defined as reference electrodes in the dataset metadata are automatically labeled as <code>REFERENCE_SIGNAL</code>. These are not evaluated for noise or artifacts and are excluded from EMG flag statistics.</p>"},{"location":"usage/channel_flagging/#summary","title":"Summary","text":"<p>Once all channels are evaluated:</p> <ul> <li>A list of suggested flags is generated for each affected channel.</li> <li>The number of flagged EMG and reference channels is reported.</li> <li>These suggestions can be reviewed and manually adjusted in the dashboard.</li> </ul> <p>The detection behavior can be customized in the Auto-Flagger settings dialog, where you can enable/disable specific checks and set thresholds to suit your data quality and analysis goals.</p>"},{"location":"usage/dashboard/","title":"Dashboard","text":""},{"location":"usage/dashboard/#dashboard","title":"Dashboard","text":"<p>The dashboard is the central interface of the hdsemg-select application, providing access to all major features. It gives an overview of the loaded data, the current grid position, and tools for reviewing and cleaning HD-sEMG recordings.</p> <p></p>"},{"location":"usage/dashboard/#overview-of-dashboard-components","title":"Overview of Dashboard Components","text":"<p>Once you've loaded HD-sEMG data (see the Getting Started Guide if needed), the dashboard displays several interactive components:</p> <ul> <li> <p>Grid Navigation   Navigate through electrode rows and columns using the on-screen controls or keyboard arrow keys.</p> </li> <li> <p>Signal Plot   View the time-domain signal from individual channels.</p> </li> <li> <p>Channels can be toggled on/off using the checkboxes below the plot.</p> </li> <li>Use the \"View Time Series\" button (expand icon) to open a larger, interactive plot.</li> <li> <p>Use the \"View Frequency Spectrum\" button (frequency icon) to inspect the frequency content of a channel.</p> </li> <li> <p>Electrode Grid Visualization   Displays the electrode layout with the currently selected row or column highlighted.   Use the \"Rotate View\" button to switch between row-wise and column-wise views.</p> </li> <li> <p>Metadata Panel   Shows metadata about the loaded file, including:</p> </li> <li> <p>File name, size, total number of channels (including reference channels) and sampling frequency</p> </li> <li> <p>Number of selected channels</p> </li> <li> <p>Currently Selected Grid and Orientation   Displays the currently active grid and fiber orientation (rows or columns).</p> </li> <li>By clicking on the panel, the Grid and Orientation Selection dialog can be reopened to change the grid or orientation.    </li> <li> <p>Selection Controls</p> </li> <li> <p>Select All: Activates all channels in the current grid view.</p> </li> <li> <p>Deselect All: Deactivates all channels in the current grid view.</p> </li> <li> <p>Label Management   Assign or edit labels for individual channels (see Channel Flagging for details).</p> </li> <li> <p>Label Dropdown: Assign a label to the currently selected channel.</p> </li> <li> <p>Displayed Labels: All applied labels are shown below each corresponding channel.</p> </li> <li> <p>Reference Signal Display   Toggle the visibility of the reference signal for the current grid.</p> </li> <li> <p>You can choose which reference to display via the dropdown next to the checkbox.</p> </li> <li> <p>Signal Overview Plot   Opens a detailed plot of all selected channels to help identify artifacts or abnormal patterns.   For more information, see Signal Overview Plot.</p> </li> <li> <p>Application Menu   Access additional features and settings via the menu bar at the top of the window.</p> </li> <li>File Menu: Open and Save Data and Open Application Settings (see Application Settings).</li> <li>Grid: Change the grid and fiber orientation. Opens the Grid and Orientation Selection dialog.</li> <li>Automatic Selection: <ul> <li>Amplitude-based selection: Automatically selects channels based on amplitude thresholds (see Automatic Channel Selection).</li> <li>Automatic Channel Flagging: Automatically assigns flags to channels based on predefined criteria (see Automatic Labeling).</li> </ul> </li> </ul>"},{"location":"usage/dashboard/#reference-signal-behavior","title":"Reference Signal Behavior","text":"<p>By default, all reference signals are automatically selected and included in the exported data. You do not need to select them manually.</p>"},{"location":"usage/getting_started/","title":"Getting Started","text":""},{"location":"usage/getting_started/#getting-started-with-hdsemg-shared","title":"Getting Started with hdsemg-shared","text":"<p>This guide walks you through the first steps of using the hdsemg-shared application to inspect and clean your high-density surface EMG (HD-sEMG) data.</p>"},{"location":"usage/getting_started/#1-launching-the-application","title":"1. Launching the Application","text":"<p>After completing the installation, start the application with the following command:</p> <pre><code>python main.py\n</code></pre> <p>This will open the application window and display the dashboard interface.</p> <p></p>"},{"location":"usage/getting_started/#2-loading-data","title":"2. Loading Data","text":"<p>To load HD-sEMG data into the application:</p> <ol> <li> <p>Open the file explorer:    Go to File \u2192 Open\u2026 or press <code>Ctrl + O</code>.</p> </li> <li> <p>Choose a supported file:    The application supports the following formats:</p> </li> <li> <p><code>.mat</code></p> </li> <li><code>.otb+</code></li> <li><code>.otb4</code></li> <li> <p><code>.otb</code></p> </li> <li> <p>The application will attempt to auto-detect the grid configuration.    If this fails, you\u2019ll be prompted to configure the layout manually.</p> </li> <li> <p>Once the file is recognized, a Grid and Orientation Selection dialog will appear:</p> </li> <li> <p>Select the appropriate grid (if multiple are detected).</p> </li> <li>Choose the fiber orientation (whether rows or columns are aligned with the muscle fibers).      If you're unsure, you can evaluate the orientation later by observing propagation patterns in the Signal Overview Plot and adjust it if needed.</li> </ol> <p></p> <ol> <li>After confirming grid and orientation, the main dashboard will be displayed.</li> </ol> <p></p> <p>You can now navigate the grid using the bottom navigation buttons or your keyboard\u2019s left/right arrow keys.</p> <p>For a detailed overview of the dashboard features, see the Dashboard Guide.</p>"},{"location":"usage/signal_details/","title":"Signal Details","text":""},{"location":"usage/signal_details/#signal-details","title":"Signal Details","text":"<p>For each Channel, you can view detailed information about the signal, including:</p> <ul> <li>Time-Domain Signal: A plot of the raw signal over time.</li> <li>Frequency Spectrum: A plot showing the frequency content of the signal.</li> </ul> <p>The functionality is accessible via the \"View Time Series\" and \"View Frequency Spectrum\" buttons below each channel widget in the dashboard view.</p> <p></p>"},{"location":"usage/signal_details/#viewing-time-domain-signal","title":"Viewing Time-Domain Signal","text":"<p>The time-domain signal plot displays the raw signal data for the selected channel. If the reference signal is enabled in the dashboard, it will be shown in the plot as well. The plot is interactive, allowing you to zoom in and out, pan across the signal, and hover over points to see exact values.</p> <p></p>"},{"location":"usage/signal_details/#viewing-frequency-spectrum","title":"Viewing Frequency Spectrum","text":"<p>The frequency spectrum plot shows the frequency content of the signal, which can help identify noise or artifacts. The x-axis represents frequency (in Hz), while the y-axis shows the amplitude of each frequency component. The plot is also interactive, allowing you to zoom in on specific frequency ranges and hover over points to see exact values.</p> <p></p>"},{"location":"usage/signal_overview_plot/","title":"Signal Overview Plot","text":""},{"location":"usage/signal_overview_plot/#signal-overview-plot","title":"Signal Overview Plot","text":"<p>The Signal Overview Plot is a powerful tool that allows you to visualize the full grid of HD-sEMG signals at once. This view is especially useful for identifying action potential propagation patterns and determining the correct orientation of the electrode grid (i.e., whether rows or columns are aligned with the muscle fibers).</p> <p></p>"},{"location":"usage/signal_overview_plot/#purpose","title":"Purpose","text":"<p>The Signal Overview Plot serves two key purposes:</p> <ul> <li> <p>Visual Inspection of Action Potentials (APs):   You can easily identify propagation patterns and noisy channels by reviewing the full recording in a compressed yet informative layout.</p> </li> <li> <p>Orientation Decision:   You can decide whether the rows or columns of the grid are parallel to the muscle fibers. This orientation is crucial for accurate physiological interpretation and propagation analysis.</p> </li> </ul>"},{"location":"usage/signal_overview_plot/#view-settings","title":"View Settings","text":""},{"location":"usage/signal_overview_plot/#parallel-orientation-control","title":"Parallel Orientation Control","text":"<p>At the top of the window, you will find a button labeled with the current orientation \ud83d\udd04 (e.g., <code>8 Columns are parallel to muscle fibers</code>). - Click this button to rotate the view, i.e., to switch between visualizing columns or rows as aligned with the fibers. - If you close the overview window, the current view setting will be saved and applied, updating the active grid orientation used throughout the application.</p>"},{"location":"usage/signal_overview_plot/#signal-type-options","title":"Signal Type Options","text":"<p>You can choose the representation type for your signals using the dropdown labeled Signal Type:</p> Signal Type Description Monopolar (MP) Raw signals from each electrode. Useful for checking overall signal integrity. Single Differential (SD) Differences between adjacent electrodes along the fiber axis. Helps highlight local signal structure. Double Differential (DD) Enhanced spatial derivative emphasizing AP propagation. Often used for detecting MUAP propagation along muscle fibers. <p>Switching between these modes allows you to evaluate your signals from different perspectives and better detect propagation trends or noise.</p> <p>The views are calculated using the methods from the hdsemg-shared library.</p>"},{"location":"usage/signal_overview_plot/#navigation-and-tools","title":"Navigation and Tools","text":"<p>The toolbar in the top-left corner of the plot provides additional tools: -  Reset View -  Zoom &amp; Pan -  Rotate View (toggle orientation) -  Show/Hide Grid or Axes -  Save Image</p> <p>These tools allow for flexible interaction with the signal data and quick export of your current view.</p>"},{"location":"usage/signal_overview_plot/#recommended-use","title":"Recommended Use","text":"<ul> <li>Use Monopolar view to identify noisy or flat channels and evaluate baseline stability.</li> <li>Switch to Double Differential view to observe motor unit action potential propagation across the grid.</li> <li>Rotate the view to match your expected muscle fiber orientation and confirm that APs propagate consistently along the intended axis.</li> <li>Once confident, close the dialog to lock in your orientation setting (rows or columns parallel to muscle fibers).</li> </ul> <p>This step is critical before performing spatial analyses or using automatic decomposition tools.</p>"},{"location":"usage/signal_overview_plot/#summary","title":"Summary","text":"Feature Description Signal Types Monopolar, Single Differential, Double Differential View Orientation Toggle Align view to muscle fiber direction (rows or columns) Signal Propagation Check Helps visually confirm direction of MUAPs Configuration Persistence Selection is applied when closing the dialog"}]}